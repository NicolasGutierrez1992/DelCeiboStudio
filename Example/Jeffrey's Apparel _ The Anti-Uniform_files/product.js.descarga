var productGalleryImagesSelector=".product-gallery-images",productGalleryThumbnailsSelector=".product-gallery-thumbnails",lightbox=new PhotoSwipeLightbox({gallery:".product-gallery-images.has-lightbox",children:"a",pswpModule:PhotoSwipe});lightbox.init();var productGalleryImagesList=document.querySelectorAll(productGalleryImagesSelector);productGalleryImagesList.forEach(productGalleryImages=>{if(productGalleryImages.classList.contains("splide")){productGalleryImages.querySelectorAll("a").forEach(image=>{image.addEventListener("click",function(e){e.preventDefault()})});let productGalleryOptions={};productGalleryImages.dataset.options&&(productGalleryOptions=JSON.parse(productGalleryImages.dataset.options)),productGalleryOptions.classes={arrows:"splide__arrows",arrow:"splide__arrow",prev:"splide__arrow--prev",next:"splide__arrow--next"};var main=new Splide(productGalleryImages,productGalleryOptions),productGalleryThumbnails=productGalleryImages.closest(".product-gallery").querySelector(productGalleryThumbnailsSelector);if(productGalleryThumbnails){productGalleryThumbnails.querySelectorAll("a").forEach(thumb=>{thumb.addEventListener("click",function(e){e.preventDefault()})});let productThumbnailsOptions={},productGalleryThumbnailsSize=productGalleryThumbnails.querySelectorAll(".splide__slide").length;productGalleryThumbnails.dataset.options&&(productThumbnailsOptions=JSON.parse(productGalleryThumbnails.dataset.options)),productThumbnailsOptions.classes={arrows:"splide__arrows",arrow:"splide__arrow",prev:"splide__arrow--prev",next:"splide__arrow--next"},productThumbnailsOptions.slideFocus=!0,productThumbnailsOptions.pagination=!1,productThumbnailsOptions.direction="ttb",productThumbnailsOptions.height="430px",productThumbnailsOptions.perPage=1,productThumbnailsOptions.perMove=1,productThumbnailsOptions.dragMinThreshold={mouse:4,touch:10},productThumbnailsOptions.breakpoints={768:{direction:"ltr",height:"auto"}},productGalleryThumbnailsSize<4&&(productThumbnailsOptions.height="auto");var thumbnails=new Splide(productGalleryThumbnails,productThumbnailsOptions)}thumbnails.mount(),main.sync(thumbnails),main.mount(),main.on("inactive",function(slideComponent){var slide=slideComponent.slide,slideVideo=slide.querySelector("video"),slideIframe=slide.querySelector("iframe");slideVideo&&slideVideo.pause(),slideIframe&&(slideIframe.contentWindow.postMessage('{"event":"command","func":"pauseVideo","args":""}',"*"),slideIframe.contentWindow.postMessage('{"method":"pause"}',"*"))}),productGalleryThumbnails.querySelectorAll("li").forEach(thumb=>{thumb.addEventListener("click",function(){var thumbnailIndex=parseInt(thumb.dataset.thumbnailIndex);thumbnailIndex&&main.go(thumbnailIndex-1)}),thumb.addEventListener("keyup",function(event){event.key==="Enter"&&thumb.click()})})}});class ProductGallery extends HTMLElement{constructor(){super(),this.productGalleryImagesListItems=this.querySelectorAll(".product-gallery-images:not(.splide) .product-gallery-images-image");for(let item of this.productGalleryImagesListItems)item.addEventListener("click",function(e){e.preventDefault(),item.scrollIntoView({behavior:"smooth"})})}}customElements.define("product-gallery",ProductGallery);class ProductRichMedia extends HTMLElement{constructor(){super(),this.mediaPreview=this.querySelector(".product-rich-media-preview"),this.mediaContent=this.querySelector(".product-rich-media-content"),this.video=this.querySelector("video"),this.modelViewer=this.querySelector("model-viewer"),this.xrButton=this.querySelector(".product-xr-button"),this.mediaPreview.addEventListener("click",()=>{this.onClick()}),this.xrButton&&this.xrButton.addEventListener("click",()=>{this.xrButtonClick()})}onClick=()=>{this.classList.add("active"),this.video&&this.video.play(),this.modelViewer&&this.loadModelInteraction()};xrButtonClick=()=>{console.log("clicked xr"),Shopify.loadFeatures([{name:"shopify-xr",version:"1.0",onLoad:errors=>this.setupShopifyXR(errors)}])};loadModelInteraction=()=>{Shopify.loadFeatures([{name:"model-viewer-ui",version:"1.0",onLoad:errors=>this.initiateModelViewerUI(errors)}])};initiateModelViewerUI=errors=>{if(errors)return!1;this.modelViewerUI=new Shopify.ModelViewerUI(this.querySelector("model-viewer"))};setupShopifyXR=errors=>{if(errors)return!1;if(!window.ShopifyXR){document.addEventListener("shopify_xr_initialized",()=>this.setupShopifyXR());return}const modelJSON=this.xrButton.dataset.shopifyModel3dContent;window.ShopifyXR.addModels(JSON.parse(modelJSON)),window.ShopifyXR.setupXRElements()}}customElements.define("product-rich-media",ProductRichMedia);class productCollapsibleRow extends HTMLElement{constructor(){super(),this.detectDefaultTab(),this.querySelector(".product-collapsible-row__title").addEventListener("click",event=>{this.onClick(event)})}detectDefaultTab=()=>{if(this.classList.contains("active_by_default")){var collapsibleContent=this.querySelector(".product-collapsible-row__content"),collapsibleContentHeight=collapsibleContent.offsetHeight;collapsibleContent.style.height=collapsibleContentHeight+"px",this.classList.remove("active_by_default")}};onClick=event=>{var productCollapsibleRow2=this.closest("product-collapsible-row"),collapsibleContent=productCollapsibleRow2.querySelector(".product-collapsible-row__content"),collapsibleContentHeight=collapsibleContent.offsetHeight;productCollapsibleRow2.classList.contains("active")?(collapsibleContent.style.removeProperty("height"),setTimeout(function(){productCollapsibleRow2.classList.remove("active")},200)):(productCollapsibleRow2.classList.add("active"),setTimeout(function(){collapsibleContent.style.height=collapsibleContentHeight+"px"},10))}}customElements.define("product-collapsible-row",productCollapsibleRow);class ProductInfoPopup extends HTMLElement{constructor(){super(),this.productInfoButtons=this.querySelectorAll(".product-info-popup__button");for(let productInfoButton of this.productInfoButtons)productInfoButton.addEventListener("click",event=>{event.target.closest("popup-modal")||this.onClick(event,productInfoButton)})}onClose=()=>{var popupModal=document.querySelector(".popup-modal");popupModal.classList.contains("product-info-popup-modal")&&popupModal.classList.remove("product-info-popup-modal"),popupModal.querySelector(".popup-modal__content").innerHTML=""};onClick=(event,infoButton)=>{event.preventDefault();var pageHandle=event.target.dataset.pageHandle;this.classList.add("loading");var popupModal=document.querySelector(".popup-modal");if(popupModal)popupModal.classList.contains("product-info-popup-modal")||popupModal.classList.add("product-info-popup-modal"),popupModal.classList.remove("inactive");else{var quickviewModalString=`<popup-modal class="popup-modal product-info-popup-modal">
            <div class="popup-modal__overlay"></div>
            <div class="popup-modal__inner">
                <div class="popup-modal__content">
                </div>
                <button class="popup-modal__close">
                    <svg width="10" height="10" viewBox="0 0 10 10" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <line x1="1.11092" y1="0.610962" x2="8.88909" y2="8.38914" stroke="currentColor" stroke-linecap="round"/>
                        <line x1="1.11096" y1="8.38915" x2="8.88914" y2="0.610971" stroke="currentColor" stroke-linecap="round"/>
                    </svg>
                </button>
            </div>
            </popup-modal>
                          `,quickviewModal=new DOMParser().parseFromString(quickviewModalString,"text/html").querySelector("popup-modal");document.body.append(quickviewModal)}if(!pageHandle){var emptyText=infoButton.dataset.emptyText;if(emptyText){var infoButtonWrap=document.createElement("div");infoButtonWrap.classList.add("page-description"),infoButtonWrap.innerHTML=emptyText;var popupModalContent=document.querySelector(".popup-modal__content");popupModalContent.append(infoButtonWrap)}return!1}fetch(`${window.Shopify.routes.root}pages/${pageHandle}`).then(response=>{if(!response.ok){var error=new Error(response.status);throw error}return response.text()}).then(res=>{var html=new DOMParser().parseFromString(res,"text/html"),content=html.querySelector(".section-main-page-content"),popupModalContent2=document.querySelector(".popup-modal__content");popupModalContent2.append(content),this.popupCloseButton=document.querySelector(".popup-modal__close"),this.popupOverlay=document.querySelector(".popup-modal__overlay"),this.popupCloseButton.addEventListener("click",()=>{this.onClose()}),this.popupOverlay.addEventListener("click",()=>{this.onClose()})})}}customElements.define("product-info-popup",ProductInfoPopup);class ProductShareIcons extends HTMLElement{constructor(){super(),this.copyShareLink(),this.shareIcons()}copyShareLink=()=>{var shareCopyLink=this.querySelector(".product-share-copy-link > a");shareCopyLink.addEventListener("click",event=>{event.preventDefault(),navigator.clipboard.writeText(shareCopyLink.getAttribute("href")).then(()=>{shareCopyLink.parentElement.classList.add("copied"),setTimeout(function(){shareCopyLink.parentElement.classList.remove("copied")},3e3)})})};shareIcons=()=>{var shareIcons=this.querySelectorAll(".product-share-icon > a");for(let icon of shareIcons)icon.addEventListener("click",event=>{event.preventDefault();var url=icon.getAttribute("href");window.open(url,"popUpWindow","height=700, width=800, left=10, top=10, resizable=yes, scrollbars=yes, toolbar=yes, menubar=no, location=no, directories=no, status=yes")})}}customElements.define("product-share-icons",ProductShareIcons);class ProductRecommendations extends HTMLElement{constructor(){super();var splideArrows=this.querySelector(".splide__arrows"),splideProgress=this.querySelector(".splide__progress"),productId=this.dataset.productId,intent=this.dataset.intent,limit=this.dataset.limit,columnsCount=parseInt(this.dataset.columnsCount),carousel=this.dataset.carousel==="true",columnsOffset=this.dataset.columnsOffset==="true",carouselOptions=JSON.parse(this.dataset.options);fetch(window.Shopify.routes.root+`recommendations/products?product_id=${productId}&section_id=product-recommendations&limit=${limit}&intent=${intent}`).then(response=>response.text()).then(text=>{var html=new DOMParser().parseFromString(text,"text/html").querySelector(".shopify-section"),productsList=html.querySelector("ul"),products=html.querySelectorAll(".product");if(products.length>columnsCount&&carousel){var productsListWrap=document.createElement("div");for(const className of productsList.classList)productsListWrap.classList.add(className);for(const product of products)product.classList.add("splide__slide");productsListWrap.classList.add("has-carousel"),productsListWrap.classList.add("splide");var splideTrack=document.createElement("div");splideTrack.classList.add("splide__track"),productsList.classList.add("splide__list"),productsList.classList.remove("product-recommendations-list"),splideTrack.appendChild(productsList),productsListWrap.appendChild(splideTrack),productsListWrap.appendChild(splideArrows),splideProgress&&productsListWrap.appendChild(splideProgress),columnsOffset&&(productsListWrap.classList.add("has-carousel-columns-offset"),carouselOptions.autoWidth=!0),carouselOptions.classes={arrows:"splide__arrows",arrow:"splide__arrow",prev:"splide__arrow--prev",next:"splide__arrow--next"};const splide=new Splide(productsListWrap,carouselOptions);var splideBar=splide.root.querySelector(".splide__progress-bar");splideBar&&splide.on("mounted move",function(){var end=splide.Components.Controller.getEnd()+1,rate=Math.min((splide.index+1)/end,1);splideBar.style.width=String(100*rate)+"%"}),splide.mount(),this.appendChild(productsListWrap)}else{const html2=document.createElement("div");html2.innerHTML=text;const recommendations=html2.querySelector(".shopify-section");recommendations&&(this.innerHTML=recommendations.innerHTML)}this.querySelectorAll(".lazy-loading-image").forEach(imageContainer=>{lazyloading(imageContainer)})})}}customElements.define("product-recommendations",ProductRecommendations);class RecipientForm extends HTMLElement{constructor(){super(),this.recipientToggle=this.querySelector(".recipient-form-toggle"),this.recipientToggle.addEventListener("click",e=>{e.preventDefault(),this.onClick()})}onClick=()=>{var recipientForm=this.closest(".recipient-form"),recipientFormToggleInput=this.recipientToggle.querySelector("input"),recipientFormFields=recipientForm.querySelector(".recipient-form-fields"),recipientFormFieldsHeight=recipientFormFields.offsetHeight;recipientFormToggleInput.getAttribute("checked")?recipientFormToggleInput.removeAttribute("checked"):recipientFormToggleInput.setAttribute("checked",!0),recipientForm.classList.contains("active")?(recipientFormFields.style.removeProperty("height"),setTimeout(function(){recipientForm.classList.remove("active")},200)):(recipientForm.classList.add("active"),setTimeout(function(){recipientFormFields.style.height=recipientFormFieldsHeight+"px"},10))};onSubmit=()=>{console.log("I run this before submit"),this.productForm.submit()}}customElements.define("recipient-form",RecipientForm);class StickyBar extends HTMLElement{constructor(){super(),this.select=document.querySelector(".product-variants-selector-select"),this.stickyAddtocart=document.querySelector(".product-sticky-bar-add-to-cart"),this.stickyAddtocart.addEventListener("click",function(){document.querySelector(".product-add-to-cart").click()}),this.select.addEventListener("change",()=>{this.onVariantChange()}),window.addEventListener("scroll",()=>{var productAddtocart=this.closest(".product").querySelector(".product-add-to-cart"),footer=document.querySelector(".section-footer"),windowInnerHeight=window.innerHeight,addtocartOffsetTop=productAddtocart.getBoundingClientRect().top,footerOffsetTop=footer.getBoundingClientRect().top;addtocartOffsetTop<0&&footerOffsetTop>windowInnerHeight?this.classList.add("active"):this.classList.remove("active")})}onVariantChange=()=>{const variantId=this.select.options[this.select.selectedIndex].value,productSelector=".product";variantId=="none"?this.classList.add("has-no-variant"):this.classList.remove("has-no-variant");var productAddtocartElement=this.select.closest(productSelector).querySelector(".product-add-to-cart"),productPriceElement=this.select.closest(productSelector).querySelector(".product-price"),productThumbnailElements=this.select.closest(productSelector).querySelectorAll(".product-gallery-thumbnails-thumbnail"),stickyProductPrice=this.select.closest(productSelector).querySelector(".product-sticky-bar-product-price"),stickyProductChosenVariant=this.select.closest(productSelector).querySelector(".product-sticky-bar-chosen-variant"),stickyProductAddtocart=this.select.closest(productSelector).querySelector(".product-sticky-bar-add-to-cart"),stickyProductThumbnail=this.select.closest(productSelector).querySelector(".product-sticky-bar-product-thumbnail");variantId=="none"&&(stickyProductPrice.innerHTML=""),stickyProductChosenVariant.innerHTML=this.select.options[this.select.selectedIndex].innerHTML;for(let thumbnail of productThumbnailElements)thumbnail.dataset.variantIds.includes(variantId)&&(stickyProductThumbnail.innerHTML=thumbnail.innerHTML);stickyProductAddtocart.innerHTML=productAddtocartElement.innerHTML,stickyProductAddtocart.disabled=productAddtocartElement.disabled,document.addEventListener("shopifyProductVariantFetched",event=>{var variant=event.detail.variant;productPriceElement.innerHTML?stickyProductPrice.innerHTML=productPriceElement.innerHTML:stickyProductPrice.innerHTML=""})}}customElements.define("sticky-bar",StickyBar);
//# sourceMappingURL=/cdn/shop/t/6/assets/product.js.map?v=90224183657341454051747736708
